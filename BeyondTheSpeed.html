<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>프로젝트-BeyondTheSpeed</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Head-->
        <section class="about-section text-center">
            <div class="container px-4 px-lg-5">
                <img class="img-fluid" src="assets/img/BeyondTheSpeed/MainImg.jpg" alt="..." />
            </div>
        </section>
        <!-- Contents-->
        <section class="bg-light">
            <div class="container px-4 px-lg-5">
                <!-- Featured Project Row-->
                <div class="row gx-0 mb-4 mb-lg-5 align-items-center">
                    <div class="bg-black text-center h-100">
                        <h4 class="text-white" style="margin-top: 15px">프로젝트 소개</h4>
                    </div>
                </div>
                <ul class="mb-5">
                    <li>팀 규모: 4명(기획1, 개발3) &#45;&gt; 개발자로 참여(기여도: 25%)</li>
                    <li>프로젝트 성격: 조작감 공부</li>
                    <li>개발 기간: 5일</li>
                    <li>장르: 1인칭 파쿠르</li>
                    <li>게임 설명: 목적지까지 파쿠르를 이용하여 빠르게 도착하는 게임</li>
                    <li>특이 사항: <a href="https://drive.google.com/file/d/1XsXLs5y32TVNbjN4gebajA9hFdV3YV4F/view?usp=sharing">(다운로드)</a></li>
                </ul>
                <div class="row gx-0 mb-4 mb-lg-5 align-items-center">
                    <div class="bg-black text-center h-100">
                        <h4 class="text-white" style="margin-top: 15px">담당 /업무</h4>
                    </div>
                    <h5 class="mt-2">&#8226; 조작</h5>
                    <img class="img-fluid mb-3 mb-lg-0" src="assets/img/BeyondTheSpeed/BreakFall.gif">
                    <h6 class="mt-2">떨어지는 타이밍에 맞추어서 조작키(LShift)를 입력하면 낙법을 발동합니다.</h6>
                    <h6>높은 속도를 유지해 빠른 조작감을 느끼는 것을 목표로 만들었기 때문에 높은곳에서 떨어지고 나서 속도를 잃는 경우를 극복할 수 있는 수단으로 만들었습니다.</h6>
                    <img class="img-fluid mb-3 mb-lg-0" src="assets/img/BeyondTheSpeed/Sliding.gif">
                    <h6 class="mt-2">일정 속도 이상으로 달리다가 조작키(Ctrl)를 입력하면 슬라이딩을 발동합니다.</h6>
                    <h6>가속도를 얻을 수 있는 수단으로 장애물을 빠르게 지나갈 수 있는 방식 중 하나로 슬라이딩 유지시간이 길어지면 급격하게 속도가 떨어지도록 제작하여 밸런스를 잡았습니다.</h6>
                    
                    <h5 class="mt-2">&#8226; 세이브 포인트</h5>
                    <img class="img-fluid mb-3 mb-lg-0" src="assets/img/BeyondTheSpeed/SavePoint.jpg">
                    <h6 class="mt-2">빛나는 지점을 지나면 세이브 포인트로 기록되어 떨어져 죽게되면 이 지점으로 다시 돌아옵니다.</h6>
                    <h6>조작 실수로 떨어지더라도 다시 이어서 진행할 수 있어 자신있게 파쿠르 동작들을 활용하는 것을 의도하였습니다.</h6>
                    
                    <h5 class="mt-2">&#8226; 게임 시스템</h5>
                    <img class="img-fluid mb-3 mb-lg-0" src="assets/img/BeyondTheSpeed/KeyItem.jpg">
                    <h6 class="mt-2">10개 아이템을 맵 곳곳에 퍼트려놓아 아이템을 모으는 루트를 만들어 도전하도록 유도하였습니다.</h6>
                    <h6>아이템을 먹게되면 최종 스코어에 갯수당 점수를  추가하여 계산되도록 하여 최대한 먹는 것을 의도하였습니다.</h6>
                    <img class="img-fluid mb-3 mb-lg-0" src="assets/img/BeyondTheSpeed/ScoreBoard.jpg">
                    <h6 class="mt-2">최종 지점에 도착하면 걸린 시간과 먹은 아이템의 갯수를 표기해 종합적인 점수를 보여주어 도전 욕구를 자극하였습니다.</h6>
                </div>
                <div class="row gx-0 mb-5 mb-lg-0 justify-content-center">
                    <div class="bg-black text-center h-100 project">
                        <h4 class="text-white" style="margin-top: 15px">낙법 소스코드</h4>
                        <h6 class="text-white"><a href="https://blog.naver.com/sanghun1425/223283103626">코드 해석 / 다른 코드 보기(블로그)</a></h6>
                    </div>
                    <div class="bg-black text-left h-100 project source-codescroll">
                        <pre class="source-codeplace" style="width: 1200px;"><code class="source-code">
using System.Collections;
using UnityEngine;

public class BreakFallComponent : BaseComponent
{
    private readonly BaseController _controller;
    private BreakFallData _data;

    private PlayerController _playerController;
    private Rigidbody _rigidbody;
    private Camera _camera;

	private bool _isOnBreakFall;

    public BreakFallComponent(BaseController controller, BreakFallData data) : base(controller)
    {
        _controller = controller;
        _data = data;
        _rigidbody = _controller.GetComponent&lt;Rigidbody&gt;();
        _camera = Camera.main;
    }

    public void InitBreakFalling(PlayerController playerController)
    {
		if (_isOnBreakFall) return;

		if (!playerController.playerMovementComponent.IsOnGround)
		{
			Controller.StartCoroutine(CoTryBreakFall(playerController));
		}
    }

	private IEnumerator CoTryBreakFall(PlayerController playerController)
	{
		_isOnBreakFall = true;

		float validTimeCounter = 0;
		float validTime = _data.validTime;
		float yVelocity = 0f;
		while (validTimeCounter &lt; validTime)
		{
			validTimeCounter += Time.deltaTime;
			yVelocity = Mathf.Min(yVelocity, _rigidbody.velocity.y);
			if (playerController.playerMovementComponent.IsOnGround)
			{
				_playerController = playerController;
				_playerController.playerState = PlayerController.PlayerState.BreakFall;

				_controller.StartCoroutine(CoCameraRotate(_camera.transform.eulerAngles.x, 0));

				yield return new WaitForSeconds(_data.cameraSpinTime + 0.1f);

				if (yVelocity &lt; _data.yVelocityThreshold)
				{
					_rigidbody.AddRelativeForce(Vector3.forward * _data.boostPower, ForceMode.VelocityChange);
				}
				break;
			}
			yield return null;
		}

		_isOnBreakFall = false;
        _playerController.playerState = PlayerController.PlayerState.Normal;
    }

    public void BreakFallFriction()
    {
        Vector3 frictionDirection = new Vector3(-_rigidbody.velocity.x, 0f, -_rigidbody.velocity.z).normalized * Time.fixedDeltaTime * _data.breakFallFriction;
        if (Mathf.Abs(_rigidbody.velocity.x) - Mathf.Abs(frictionDirection.x) &lt; 0) frictionDirection.x = -_rigidbody.velocity.x;
        if (Mathf.Abs(_rigidbody.velocity.z) - Mathf.Abs(frictionDirection.z) &lt; 0) frictionDirection.z = -_rigidbody.velocity.z;
        _rigidbody.AddForce(frictionDirection, ForceMode.VelocityChange);
    }

	private IEnumerator CoCameraRotate(float startXRotation, float endXRotation)
	{
		float current_time = 0f;
		float rotation = startXRotation;
		float end = (_camera.transform.eulerAngles.x % 360) + 360;

		Vector3 currentAngles = _camera.transform.eulerAngles;

		while (current_time &lt;= _data.cameraSpinTime)
		{
			current_time += Time.deltaTime;
			float xRotation = Mathf.Lerp(rotation % 360, end, current_time / _data.cameraSpinTime);
			_camera.transform.eulerAngles = new(xRotation, currentAngles.y, currentAngles.z);
			yield return null;
		}
		_camera.transform.eulerAngles = new(endXRotation, currentAngles.y, currentAngles.z);
		(Controller as PlayerController).playerMovementComponent.camXRotation = 0;
	}
}
                    </code></pre>
                    </div>
                    <div class="bg-black text-center h-100">
                        <h5 class="text-white" style="margin-top: 15px">조작 - 낙법을 구현한 코드입니다.</h5>
                        <h6 class="text-white" style="font-size: 15px">
                            코요테 타임을 이용하여 낙법의 성공여부를 판단하였으며 성공시 낙법을 실행한 후 속도 부스트를 주어 숙련자에게 보상을 주었습니다.
                        </h6>
                        <h6 class="text-white" style="font-size: 15px">
                            1인칭 시점으로 진행되기 때문에 어지러울 수 있지만 카메라에 무브를 더해주어 현재 동작에 대한 피드백을 주었습니다.
                        </h6>
                    </div>
                </div>
                <div class="row gx-0 mt-5 mb-1 mb-lg-4 align-items-center">
                    <div class="bg-black text-center h-100">
                        <h4 class="text-white" style="margin-top: 15px">배운 점 &amp; 느낀 점</h4>
                    </div>
                </div>
                <ul>
                    <li></li>
                </ul>
            </div>
        </section>
        
        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container px-4 px-lg-5">Copyright &copy; Jinsanghun Portfolio Site 2024</div></footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
